{% extends 'main/base.html' %}
{% comment %}
    This template is used to build documentation pages.

    Parameters:
    - page_title   <str> : Title of the  page
    - page_content <str> : Rendered content of the  page
    - doc_pages    <list>: List of submenu items that compose the documentation hierarchy menu
{% endcomment %}

{% block page-title %}Doc: {{ page_title }}{% endblock %}

{% block page-header %}{{ page_title }}{% endblock %}


{% block page-submenu %}

<div class="dropdown">
    <a href="#" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">Table of contents</a>
    <div class="dropdown-menu dropdown-menu-right">
    {% for doc_page in doc_pages %}
        <a class="dropdown-item {% if doc_page.key in ariane %}active{% endif %} {% if doc_page.requires == 'superuser' %}info{% endif %}"
           href="{% url 'doc-page' pk=doc_page.key %}"
           {% if doc_page.requires == 'superuser' %}
           data-toggle="tooltip" data-placement="left" data-html="true"
           title="This page is only accessible to <strong>superusers</strong>"
           {% endif %}
        >
            {{ doc_page.title }}
            {% if doc_page.requires == 'superuser' %}
            <i class="fas fa-user-shield small float-right pt-2 info"></i>
            {% endif %}
        </a>
    {% endfor %}
    </div>
</div>

{% endblock %}


{% block page-body %}

{{ page_content|safe }}

{% endblock %}
